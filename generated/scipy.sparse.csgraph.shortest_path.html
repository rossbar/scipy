<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    
    <title>scipy.sparse.csgraph.shortest_path &mdash; SciPy v1.5.0.dev0+47ffc1e Reference Guide</title>
    
    <link rel="stylesheet" type="text/css" href="../_static/css/spc-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="../_static/css/spc-extend.css">
    <link rel="stylesheet" href="../_static/scipy.css" type="text/css" >
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" >
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.5.0.dev0+47ffc1e',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/scipy-mathjax/MathJax.js?config=scipy-mathjax"></script>
    <script type="text/javascript" src="../_static/js/copybutton.js"></script>
    <link rel="index" title="Index" href="../genindex.html" >
    <link rel="search" title="Search" href="../search.html" >
    <link rel="top" title="SciPy v1.5.0.dev0+47ffc1e Reference Guide" href="../index.html" >
    <link rel="up" title="Compressed sparse graph routines (scipy.sparse.csgraph)" href="../sparse.csgraph.html" >
    <link rel="next" title="scipy.sparse.csgraph.dijkstra" href="scipy.sparse.csgraph.dijkstra.html" >
    <link rel="prev" title="scipy.sparse.csgraph.laplacian" href="scipy.sparse.csgraph.laplacian.html" > 
  </head>
  <body>

<div class="container">
  <div class="top-scipy-org-logo-header">
    <a href="../index.html">
      <img style="border: 0;" alt="SciPy" src="../_static/img/scipy_org_logo.png"></a>
    </div>
  </div>
</div>


    <div class="container">
      <div class="main">
        
	<div class="row-fluid">
	  <div class="span12">
	    <div class="spc-navbar">
              
    <ul class="nav nav-pills pull-left">
        <li class="active"><a href="https://scipy.org/">SciPy.org</a></li>
        <li class="active"><a href="https://docs.scipy.org/">Docs</a></li>
	
        <li class="active"><a href="../index.html">SciPy v1.5.0.dev0+47ffc1e Reference Guide</a></li>
	
          <li class="active"><a href="../sparse.csgraph.html" accesskey="U">Compressed sparse graph routines (<code class="xref py py-mod docutils literal notranslate"><span class="pre">scipy.sparse.csgraph</span></code>)</a></li> 
    </ul>
              
              
    <ul class="nav nav-pills pull-right">
      <li class="active">
        <a href="../genindex.html" title="General Index"
           accesskey="I">index</a>
      </li>
      <li class="active">
        <a href="../py-modindex.html" title="Python Module Index"
           >modules</a>
      </li>
      <li class="active">
        <a href="scipy.sparse.csgraph.dijkstra.html" title="scipy.sparse.csgraph.dijkstra"
           accesskey="N">next</a>
      </li>
      <li class="active">
        <a href="scipy.sparse.csgraph.laplacian.html" title="scipy.sparse.csgraph.laplacian"
           accesskey="P">previous</a>
      </li>
    </ul>
              
	    </div>
	  </div>
	</div>
        

	<div class="row-fluid">
          <div class="span9">
            
        <div class="bodywrapper">
          <div class="body" id="spc-section-body">
            
  <div class="section" id="scipy-sparse-csgraph-shortest-path">
<h1>scipy.sparse.csgraph.shortest_path<a class="headerlink" href="#scipy-sparse-csgraph-shortest-path" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="scipy.sparse.csgraph.shortest_path">
<code class="sig-prename descclassname">scipy.sparse.csgraph.</code><code class="sig-name descname">shortest_path</code><span class="sig-paren">(</span><em class="sig-param">csgraph</em>, <em class="sig-param">method='auto'</em>, <em class="sig-param">directed=True</em>, <em class="sig-param">return_predecessors=False</em>, <em class="sig-param">unweighted=False</em>, <em class="sig-param">overwrite=False</em>, <em class="sig-param">indices=None</em><span class="sig-paren">)</span><a class="headerlink" href="#scipy.sparse.csgraph.shortest_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a shortest-path graph search on a positive directed or
undirected graph.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.11.0.</span></p>
</div>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>csgraph</strong><span class="classifier">array, matrix, or sparse matrix, 2 dimensions</span></dt><dd><p>The N x N array of distances representing the input graph.</p>
</dd>
<dt><strong>method</strong><span class="classifier">string [‘auto’|’FW’|’D’], optional</span></dt><dd><p>Algorithm to use for shortest paths.  Options are:</p>
<blockquote>
<div><dl class="simple">
<dt>‘auto’ – (default) select the best among ‘FW’, ‘D’, ‘BF’, or ‘J’</dt><dd><p>based on the input data.</p>
</dd>
<dt>‘FW’   – Floyd-Warshall algorithm.  Computational cost is</dt><dd><p>approximately <code class="docutils literal notranslate"><span class="pre">O[N^3]</span></code>.  The input csgraph will be
converted to a dense representation.</p>
</dd>
<dt>‘D’    – Dijkstra’s algorithm with Fibonacci heaps.  Computational</dt><dd><p>cost is approximately <code class="docutils literal notranslate"><span class="pre">O[N(N*k</span> <span class="pre">+</span> <span class="pre">N*log(N))]</span></code>, where
<code class="docutils literal notranslate"><span class="pre">k</span></code> is the average number of connected edges per node.
The input csgraph will be converted to a csr
representation.</p>
</dd>
<dt>‘BF’   – Bellman-Ford algorithm.  This algorithm can be used when</dt><dd><p>weights are negative.  If a negative cycle is encountered,
an error will be raised.  Computational cost is
approximately <code class="docutils literal notranslate"><span class="pre">O[N(N^2</span> <span class="pre">k)]</span></code>, where <code class="docutils literal notranslate"><span class="pre">k</span></code> is the average
number of connected edges per node. The input csgraph will
be converted to a csr representation.</p>
</dd>
<dt>‘J’    – Johnson’s algorithm.  Like the Bellman-Ford algorithm,</dt><dd><p>Johnson’s algorithm is designed for use when the weights
are negative.  It combines the Bellman-Ford algorithm
with Dijkstra’s algorithm for faster computation.</p>
</dd>
</dl>
</div></blockquote>
</dd>
<dt><strong>directed</strong><span class="classifier">bool, optional</span></dt><dd><p>If True (default), then find the shortest path on a directed graph:
only move from point i to point j along paths csgraph[i, j].
If False, then find the shortest path on an undirected graph: the
algorithm can progress from point i to j along csgraph[i, j] or
csgraph[j, i]</p>
</dd>
<dt><strong>return_predecessors</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, return the size (N, N) predecesor matrix</p>
</dd>
<dt><strong>unweighted</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, then find unweighted distances.  That is, rather than finding
the path between each point such that the sum of weights is minimized,
find the path such that the number of edges is minimized.</p>
</dd>
<dt><strong>overwrite</strong><span class="classifier">bool, optional</span></dt><dd><p>If True, overwrite csgraph with the result.  This applies only if
method == ‘FW’ and csgraph is a dense, c-ordered array with
dtype=float64.</p>
</dd>
<dt><strong>indices</strong><span class="classifier">array_like or int, optional</span></dt><dd><p>If specified, only compute the paths from the points at the given
indices. Incompatible with method == ‘FW’.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>dist_matrix</strong><span class="classifier">ndarray</span></dt><dd><p>The N x N matrix of distances between graph nodes. dist_matrix[i,j]
gives the shortest distance from point i to point j along the graph.</p>
</dd>
<dt><strong>predecessors</strong><span class="classifier">ndarray</span></dt><dd><p>Returned only if return_predecessors == True.
The N x N matrix of predecessors, which can be used to reconstruct
the shortest paths.  Row i of the predecessor matrix contains
information on the shortest paths from point i: each entry
predecessors[i, j] gives the index of the previous node in the
path from point i to point j.  If no path exists between point
i and j, then predecessors[i, j] = -9999</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><dl class="simple">
<dt>NegativeCycleError:</dt><dd><p>if there are negative cycles in the graph</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>As currently implemented, Dijkstra’s algorithm and Johnson’s algorithm
do not work for graphs with direction-dependent distances when
directed == False.  i.e., if csgraph[i,j] and csgraph[j,i] are non-equal
edges, method=’D’ may yield an incorrect result.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy.sparse</span> <span class="kn">import</span> <span class="n">csr_matrix</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy.sparse.csgraph</span> <span class="kn">import</span> <span class="n">shortest_path</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">graph</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="gp">... </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
<span class="gp">... </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graph</span> <span class="o">=</span> <span class="n">csr_matrix</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">graph</span><span class="p">)</span>
<span class="go">  (0, 1)    1</span>
<span class="go">  (0, 2)    2</span>
<span class="go">  (1, 3)    1</span>
<span class="go">  (2, 0)    2</span>
<span class="go">  (2, 3)    3</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dist_matrix</span><span class="p">,</span> <span class="n">predecessors</span> <span class="o">=</span> <span class="n">shortest_path</span><span class="p">(</span><span class="n">csgraph</span><span class="o">=</span><span class="n">graph</span><span class="p">,</span> <span class="n">directed</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">indices</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">return_predecessors</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dist_matrix</span>
<span class="go">array([ 0.,  1.,  2.,  2.])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">predecessors</span>
<span class="go">array([-9999,     0,     0,     1], dtype=int32)</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
          </div>
      <div class="spc-rightsidebar span3">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="scipy.sparse.csgraph.laplacian.html"
                        title="previous chapter">scipy.sparse.csgraph.laplacian</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="scipy.sparse.csgraph.dijkstra.html"
                        title="next chapter">scipy.sparse.csgraph.dijkstra</a></p>
<div id="searchbox" style="display: none" role="search">
  <h4>Quick search</h4>
    <div>
    <form class="search" action="../search.html" method="get">
      <input type="text" style="width: inherit;" name="q" />
      <input type="submit" value="search" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
        </div>
      </div>
    </div>

    <div class="container container-navbar-bottom">
      <div class="spc-navbar">
        
      </div>
    </div>
    <div class="container">
    <div class="footer">
    <div class="row-fluid">
    <ul class="inline pull-left">
      <li>
        &copy; Copyright 2008-2019, The SciPy community.
      </li>
      <li>
      Last updated on Dec 16, 2019.
      </li>
      <li>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 2.3.0.
      </li>
    </ul>
    </div>
    </div>
    </div>
  </body>
</html>